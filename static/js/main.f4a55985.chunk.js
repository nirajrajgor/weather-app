(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAARRJREFUOBGlVYENwyAMK7ugn6wfjBM4pR+Mk7YLxgflk+2DzkZFhcqoXRfJSnASl2RIM13D5nl2SF0BCwwALQKB3hjzhN83CA3ABOwZa/KHtDAK/J6KyN+l2kmxrD9WomA55r+2jg+l2FAL4C3QL2BMTtmUbomMU1lwvhqjODDX6HFdIxmKfhmiT93UU1AlrFQpSPRZYGuBgp8ti3Nf9MqQNaLvfZHV50lDwSj61ycgkgulaiIFg+jRr78u9PUxndIOW8+mKYrdebE/Ui7JIoiNghf4G8AfgGD8ApStq0N2UBU/cvVO0dwa44juKPbZ8U2eEdVi+QsQ5fjxwLVYU48JEZOFth7FDhwb7OLhqr+AB4mtfQHyumFEB+HB5AAAAABJRU5ErkJggg=="},19:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAclJREFUOBGNUz1PwlAUpY+OJhL9A/4CqWwuusgM/ARWwlB+SQshgbDI5khJjIsTf8AU4+agYXRQ2AifnvPsbR61Ik1u73v3nHve7b19Vibx1Ov1smVZJZgDiBZut1vasN1uBwl6vLVk5bpubr1e30KgLLGkh1iQzWarvu9Pk5higCKbzeaNIiDPYFWl1EWr1bLouWecOHnkJ4VsBgD24XIgj3Bi2TwR6xBYiOQAFQcQu2bliFVg8WOxJzh1wBMhcmaKxKxowUog8g6xYxxeMXsGDSU9cfeJUCvCXa6NPG4zCpU4XKAafsK/j8HLm2SFMnUApx0kZPB0ASLGisbc4Pt3ACEkvfAkT3BWpCtBEw8SEp7kxULofsANAI9TESDNEyePmOQJT0UjHCLA0Q7+EmOcOHmwB3P0FNNXJCLp/wOxKczFeMdsLDAHp3MgPvqiK0ZVL8vl8qrT6Xwhrp+du4aEPqKlHyj1fQ+xUwhdAn1eLBbFbrf7QWYsJGnRn8475yAhz+nAh+wJP6dWqx3hXxohVkDOK/xNs9mc/BISwX2+0WicrFarx0hsMp/Pz/Xt35eUhnme92nbdhHVPsHuer3eLI13cIxDEvI3Eb72nij5/50AAAAASUVORK5CYII="},23:function(e,t,a){e.exports=a(49)},28:function(e,t,a){},29:function(e,t,a){},4:function(e,t,a){e.exports=a.p+"static/media/mumbai.3b3dfec5.jpg"},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),i=(a(28),a(29),a(15)),l=a(16),s=a(22),h=a(21),m=a(6),u=a(4),p=a.n(u),d=a(18),A=a.n(d),E=a(19),f=a.n(E),g=function(e){return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("img",{src:f.a,alt:"search icon",className:"search-icon"}),r.a.createElement("input",{type:"text",placeholder:"Search City",value:e.search,onChange:e.onChange}))},w=function(){return r.a.createElement("p",{className:"github-link"},r.a.createElement("a",{href:"https://github.com/nirajrajgor/weather-app",target:"_blank",rel:"noopener noreferrer"},"GitHub"))},v=function(e){return r.a.createElement("div",{className:"main-wrapper"},e.photo?r.a.createElement("img",{src:e.isMobile?e.photo.urls.small:e.photo.urls.regular,alt:e.photo.alt_description}):r.a.createElement("img",{src:p.a,alt:"Default mumbai location"}),e.isMobile&&r.a.createElement(g,{search:e.search,onChange:e.onChange}),r.a.createElement("div",{className:"info-wrapper"},e.weather?e.weather.main?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,Math.round(e.weather.main.temp),r.a.createElement("img",{src:A.a,alt:"degree symbol"})),r.a.createElement("div",{className:"city-info"},r.a.createElement("h1",null,r.a.createElement("strong",null,e.weather.name)),r.a.createElement("h3",null,(new Date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),!e.isMobile&&r.a.createElement(w,null)):r.a.createElement("h2",{class:"error"},e.weather.message):r.a.createElement("h2",null,"Loading...")))},b=function(e){return Math.floor(Math.random()*Math.floor(e))},D=function(e){return r.a.createElement(r.a.Fragment,null,!e.isMobile&&r.a.createElement(g,{search:e.search,onChange:e.onChange}),r.a.createElement("div",{className:"info-card"},r.a.createElement("h3",null,"Weather Details"),e.weatherData?e.weatherData.main?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Cloudy"),r.a.createElement("h5",null,e.weatherData.clouds.all,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Pressure"),r.a.createElement("h5",null,e.weatherData.main.pressure," hPa")),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Humidity"),r.a.createElement("h5",null,e.weatherData.main.humidity,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Wind"),r.a.createElement("h5",null,e.weatherData.wind.speed," m/s"))):r.a.createElement("h2",null,e.weatherData.message):r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"info-card"},r.a.createElement("h3",null,"Weather Forecast"),e.forcastData?e.forcastData.list?e.forcastData.list.slice(0,4).map((function(e){return r.a.createElement("div",{className:"item",key:e.dt},r.a.createElement("h4",null,(t=e.dt,new Date(1e3*t).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),r.a.createElement("h5",null,Math.round(e.main.temp),"\xba"));var t})):r.a.createElement("h2",null,e.forcastData.message):r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"img-card"},e.photo?r.a.createElement("button",{onClick:e.onViewImage},r.a.createElement("img",{src:e.photo.urls.small,alt:e.photo.alt_description}),r.a.createElement("span",null,"VIEW IMAGE")):r.a.createElement("button",null,r.a.createElement("img",{src:p.a,alt:"Default mumbai location"}))),e.isMobile&&r.a.createElement(w,null))},O=a(5),N=a.n(O),S=function(e){return{type:"GET_PHOTOS",data:e}},C=function(e){return{type:"GET_WEATHER_DATA",data:e}},B=function(e){return{type:"GET_FORCAST_DATA",data:e}},U=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).debounced=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}}((function(e){""!==e&&(n.props.searchPhotoApi(e),n.props.getWeatherApi(e),n.props.getForcastApi(e))}),600),n.onChange=function(e){n.setState({search:e.target.value},(function(){return n.debounced(n.state.search)}))},n.handleViewImage=function(){n.props.changeDataOrder(),n.state.width<575.98&&window.scrollTo({top:0,behavior:"smooth"})},n.updateWindowDimensions=function(){n.setState({width:window.innerWidth,height:window.innerHeight})},n.state={search:"",width:0,height:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.props.searchPhotoApi(),this.props.getWeatherApi(),this.props.getForcastApi()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("main",null,r.a.createElement(v,{photo:this.props.homeState.photos[0],weather:this.props.homeState.weatherData,isMobile:this.state.width<575.98,search:this.state.search,onChange:this.onChange})),r.a.createElement("aside",null,r.a.createElement(D,{photo:this.props.homeState.photos[1],isMobile:this.state.width<575.98,search:this.state.search,onChange:this.onChange,onViewImage:this.handleViewImage,weatherData:this.props.homeState.weatherData,forcastData:this.props.homeState.forcastData})))}}]),a}(n.Component),y={searchPhotoApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mumbai";return function(t){T.search.photos(e,1,10,{orientation:"landscape"}).then(O.toJson).then((function(e){t(S(e.results))})).catch((function(e){console.log("Error")}))}},getWeatherApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mumbai";return function(t){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("f6f756fb41c98cf1ec47e74d1f0fac56","&units=metric")).then((function(e){return e.json()})).then((function(e){t(C(e))})).catch((function(e){console.error("Error:",e)}))}},getForcastApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mumbai";return function(t){fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("f6f756fb41c98cf1ec47e74d1f0fac56","&units=metric")).then((function(e){return e.json()})).then((function(e){t(B(e))})).catch((function(e){console.error("Error:",e)}))}},changeDataOrder:function(){return{type:"CHANGE_DATA_ORDER"}}},j=Object(m.b)((function(e){return{homeState:e.homeState}}),y)(U),M=a(2),R={photos:[],weatherData:null},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PHOTOS":var a,n;for(a=b(t.data.length),n=b(t.data.length);a===n;)n=b(9);var r=[t.data[a],t.data[n]];return Object(M.a)({},e,{photos:r});case"GET_WEATHER_DATA":return Object(M.a)({},e,{weatherData:t.data});case"GET_FORCAST_DATA":return Object(M.a)({},e,{forcastData:t.data});case"CHANGE_DATA_ORDER":return Object(M.a)({},e,{photos:e.photos.reverse()});default:return e}},T=new N.a({accessKey:"".concat("pZL6lvUMNnUP9oREERzf_ZnDBGrqx_dyTfAK26ZMnFo")});var k=function(){return r.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(1),I=a(20),L=Object(F.c)({homeState:W});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Object(F.d)(L,Object(F.a)(I.a))},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.f4a55985.chunk.js.map